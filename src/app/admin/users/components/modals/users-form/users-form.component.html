<h2 mat-dialog-title>
  <mat-icon>account_circle</mat-icon>
  <span> {{ user.first_name }} {{ user.last_name }}</span>
</h2>

<mat-dialog-content>
  <ng-container *ngIf="form">
    <form [formGroup]="form">
      <div class="action-buttons">
        <button mat-button (click)="accordion.openAll()">Tout déplier</button>
        <button mat-button (click)="accordion.closeAll()">Tout replier</button>
      </div>
      <mat-accordion class="headers-align" multi>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Informations personnelles </mat-panel-title>
            <mat-panel-description>
              Nom, prénom, email... etc.
              <mat-icon>account_circle</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-form-field>
            <input matInput placeholder="Prénom" formControlName="first_name" />
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Nom" formControlName="last_name" />
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Email" formControlName="email" />
          </mat-form-field>
        </mat-expansion-panel>
        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Droits & Fonctionnalités </mat-panel-title>
            <mat-panel-description>
              Assignation du rôle.
              <mat-icon>lock</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-select
            placeholder="Rôle de l'utilisateur"
            formControlName="role"
          >
            <mat-option *ngFor="let role of roles" [value]="role.id">
              {{ role.name }}
            </mat-option>
          </mat-select>
        </mat-expansion-panel>

        <mat-expansion-panel>
          <mat-expansion-panel-header>
            <mat-panel-title> Options diverses. </mat-panel-title>
            <mat-panel-description>
              Autres options.
              <mat-icon>settings</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>

          <mat-form-field appearance="fill">
            <mat-label>Statut</mat-label>
            <mat-select formControlName="status">
              <mat-option *ngFor="let entry of status" [value]="entry">{{ entry }}</mat-option>
            </mat-select>
          </mat-form-field>
          <mat-datepicker #picker></mat-datepicker>
        </mat-expansion-panel>
      </mat-accordion>
    </form>
  </ng-container>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button color="secondary" mat-dialog-close cdkFocusInitial>
    Fermer
  </button>
  <button mat-button color="accent" mat-dialog-close cdkFocusInitial>
    Enregistrer
  </button>
</mat-dialog-actions>
